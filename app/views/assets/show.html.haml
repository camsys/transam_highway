:ruby 
  @asset_class_name = @asset.asset_type.class_name

  if @asset_class_name == 'Bridge'
    @latest_condition = @asset.latest_bridge_condition
  elsif @asset_class_name == 'Culvert'
    @latest_condition = @asset.latest_culvert_condition
  end

:css
  .panel-body-fixed {
    height: 300px;
    overflow: scroll;
  }

.subheader-label
  %h2 #{@asset.asset_type.name.singularize} #{@asset.asset_tag} Profile

= render 'subheader'
.row
  .col-sm-12#summary
    .panel.panel-default
      .panel-heading
        .row
          .col-sm-10
            %h3.panel-title
              %a{data: {toggle: 'collapse'}, href: '#collapse-summary'}Summary
      #collapse-summary.panel-collapse.collapse.in
        .panel-body
          = render 'summary'
.row
  .col-sm-12#profile
    .panel.panel-default
      .panel-heading
        %h3.panel-title
          %a{data: {toggle: 'collapse'}, href: '#collapse-profile'}SI&A
          = render partial: 'shared/xeditable_edit_actions', locals: {obj: @asset}
      #collapse-profile.panel-collapse.collapse.in
        .panel-body
          = render 'profile'        
.row
  .col-sm-12
    .panel.panel-default
      .panel-heading
        %h3.panel-title
          %a{data: {toggle: 'collapse'}, href: '#collapse-details'}Profile Details
      #collapse-details.panel-collapse.collapse.in
        .panel-body
          = render 'details'

- if @asset.class.name == "Bridge"
  = render 'stream_bed_profile'

.modal.fade#form-modal{:tabindex => -1, :role => 'dialog', :aria => {:hidden => true}}

#spinner{:style => 'padding: 20px; display: none;'}
  = loader_panel_tag({:message => "Processing...", :size => 3, :spinner => "refresh"})

= render 'show_scripts'
= render 'shared/cache_collapsible_tabs_script', cache_key: "asset-profile-#{@asset.object_key}"